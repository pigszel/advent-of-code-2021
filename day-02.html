<html>
  <head>
    <title>Day 02</title>
  </head>
  <body>
    <h1>Day 02</h1>
    <script type="module">
      import { DAY_02 } from "./constants/inputs.js";
      const inputs = [...DAY_02];

      // === PART ONE ===
      // Method #1
      let x = 0;
      let y = 0;
      inputs.forEach((input) => {
        let [direction, value] = input.split(" ");
        value = Number(value);

        switch (direction) {
          case "forward":
            x = x + value;
            break;
          case "down":
            y = y + value;
            break;
          case "up":
            y = y - value;
            break;
          default:
            return;
        }
      });

      console.log(
        `Horizontal position is at ${x}, while the depth is at ${y}.`
      );
      console.log(`Theirs multiplier is ${x * y}`);

      // Method #2 (from legas)
      const submarine = {
        x: 0,
        y: 0,
      };

      inputs.forEach((command) => {
        let [direction, value] = command.split(" ");

        switch (direction) {
          case "forward":
            submarine.x += +value;
            break;
          case "down":
            submarine.y += +value;
            break;
          case "up":
            submarine.y -= +value;
            break;
          default:
            return;
        }
      });

      console.log(
        `The (yellow) submarine's horizontal position is at ${submarine.x}, while the depth is at ${submarine.y}.`
      );
      console.log(`Theirs multiplier is ${submarine.x * submarine.y}`);

      // === PART TWO ===
      // Method #1
      const submarine2 = {
        x: 0,
        y: 0,
        aim: 0,
      };

      inputs.forEach((command) => {
        let [direction, value] = command.split(" ");

        if (direction === "forward") {
          submarine2.x += +value;
          submarine2.y += submarine2.aim * +value;
        }

        if (direction === "down") {
          submarine2.aim += +value;
        }

        if (direction === "up") {
          submarine2.aim -= +value;
        }
      });

      console.log(
        `The new submarine has is at the following coordinates: horizontal position: ${submarine2.x}, depths: ${submarine2.y}; aim: ${submarine2.aim}.`
      );
      console.log(`Theirs multiplier is ${submarine2.x * submarine2.y}`);
    </script>
  </body>
</html>
